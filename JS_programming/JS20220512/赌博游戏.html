<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		// ä¼ªä»£ç 
		// æœ¬é‡‘ = 50
		// æœ¬é‡‘ == 100 || æœ¬é‡‘ == 0  // ç»“æŸæ¸¸æˆçš„æ¡ä»¶
		// while(æœ¬é‡‘ < 100 && æœ¬é‡‘ > 0) {  // å¼€å§‹æ¸¸æˆçš„æ¡ä»¶
		//     ä¸‹æ³¨
		//     æ·éª°å­
		//     å¼€å¥–æ”¶é›†èµ¢é’±
		// }
		let funds = 50; // æœ¬é‡‘
		// éª°å­
		let dice = ["çš‡å† ğŸ‘‘", "é”šâš“", "çº¢æ¡ƒâ™¥", "é»‘æ¡ƒâ™ ", "æ¢…èŠ±â™£", "æ–¹å—â™¦"]
		// äº§ç”Ÿéšæœºæ•°çš„æ–¹æ³•
		function rand(m, n) {
			return m + Math.floor(Math.random() * (n - m + 1));
		}
		// è¿”å›éª°å­çš„ä»»æ„ä¸€é¢
		function randFace() {
			let index = rand(0, 5);
			return dice[index];
		}
		console.log(randFace());
		// while(funds < 100 && funds > 0) {
		//     ä¸‹æ³¨
		//     æ·éª°å­
		//     å¼€å¥–æ”¶é›†èµ¢é’±
		// }
		let round = 0; // å›åˆæ¬¡æ•°
		while (funds < 100 && funds > 0) {
			round++;
			console.log(`ç¬¬${round}å›åˆï¼š`);
			console.log(`\t æœ¬é‡‘æˆ–å‰©ä½™é‡‘é’±ï¼š${funds} p`);
			// ä¸‹æ³¨
			// éšæœºæœ¬è½®çš„ä¸‹æ³¨é‡‘é¢
			let totalBet = rand(1, funds);
			// å¯¹è±¡ å¯¹è±¡çš„å±æ€§å’Œéª°å­ä¸€æ ·
			let bets = {
				"çš‡å† ğŸ‘‘": 0,
				"é”šâš“": 0,
				"çº¢æ¡ƒâ™¥": 0,
				"é»‘æ¡ƒâ™ ": 0,
				"æ¢…èŠ±â™£": 0,
				"æ–¹å—â™¦": 0
			};
			if (totalBet === 7) {
				// ç‰¹æ®Šæµç¨‹
				totalBet = funds;
				// æ‰€æœ‰çš„é’±å‹çº¢æ¡ƒâ™¥
				bets.çº¢æ¡ƒ = totalBet;
			} else {
				// éšæœºä¸‹æ³¨
				// 10 ä¾¿å£«
				let remaining = totalBet;
				do {
					// éšæœºå¤šå°‘é’±
					let bet = rand(1, remaining);
					// éšæœºé‚£ä¸ªé¢
					let face = randFace();
					bets[face] = bets[face] + bet;
					remaining = remaining - bet;
				} while (remaining > 0);
			}
			funds = funds - totalBet;
			console.log(`\t ä¸‹æ³¨è¯¦æƒ…ï¼š` + Object.keys(bets).map(face => `${face}:Â¥${bets[face]}`).join("ï¼Œ") +
				`(æ€»å…±ä¸‹æ³¨ï¼šÂ¥${totalBet})`);
			// æ·éª°å­
			const hand = [];
			for (let i = 0; i < 3; i++) {
				hand.push(randFace());
			}
			console.log(`\t å¼€å¥–ï¼š${hand.join('ï¼Œ')}`);
			// å¼€å¥–æ”¶é›†èµ¢é’±
			let winnings = 0;
			for (let i = 0; i < 3; i++) {
				let face = hand[i];
				if (bets[face] > 0) {
					winnings = winnings + bets[face];
				}
			}
			funds = funds + winnings;
			console.log(`\t èµ¢ï¼š${winnings}`);
		}
	</script>
</html>
